rules_version = '2';
service cloud.firestore {
  match /databases/{database}/documents {
    // ğŸ“Š ë†€ì´ ë¶„ì„ ì„¸ì…˜ ë°ì´í„°
    match /play_sessions/{sessionId} {
      // ëª¨ë“  ì‚¬ìš©ìê°€ ì½ê¸°/ì“°ê¸° ê°€ëŠ¥ (ê°œë°œ ë° í…ŒìŠ¤íŠ¸ìš©)
      // ì‹¤ì œ ìš´ì˜ì—ì„œëŠ” ì‚¬ìš©ì ì¸ì¦ ì¶”ê°€ ê¶Œì¥
      allow read, write: if true;
    }
    
    // ğŸ“ˆ ì„¸ì…˜ ì¸ë±ìŠ¤ ë°ì´í„°
    match /session_indexes/{indexId} {
      allow read, write: if true;
    }
    
    // ğŸ“‹ ì‚¬ìš©ì ì—…ë¡œë“œ ë©”íƒ€ë°ì´í„°
    match /uploads/{uploadId} {
      allow read, write: if true;
    }
    
    // ğŸ”§ ì‹œìŠ¤í…œ ì„¤ì • ë°ì´í„°
    match /system_config/{configId} {
      allow read, write: if true;
    }
    
    // ğŸ“ ë¶„ì„ ê²°ê³¼ ë°ì´í„°
    match /analysis_results/{resultId} {
      allow read, write: if true;
    }
    
    // ğŸ¯ ê°œë°œ/í…ŒìŠ¤íŠ¸ ë°ì´í„°
    match /dev_test/{testId} {
      allow read, write: if true;
    }
    
    // ğŸš« ê¸°ë³¸ ê·œì¹™: ë‹¤ë¥¸ ëª¨ë“  ê²½ë¡œëŠ” ì°¨ë‹¨
    match /{document=**} {
      allow read, write: if false;
    }
  }
}

// ğŸ’¡ ê·œì¹™ ì„¤ëª…:
// - í˜„ì¬ëŠ” ëª¨ë“  ì‚¬ìš©ìê°€ ì½ê¸°/ì“°ê¸° ê°€ëŠ¥ (ê°œë°œ/í…ŒìŠ¤íŠ¸ìš©)
// - ì‹¤ì œ ìš´ì˜ì—ì„œëŠ” ì‚¬ìš©ì ì¸ì¦ ì¶”ê°€ ê¶Œì¥
// - íŠ¹ì • ì»¬ë ‰ì…˜ë§Œ ì ‘ê·¼ í—ˆìš©ìœ¼ë¡œ ë³´ì•ˆ ê°•í™”
// - ì‹œìŠ¤í…œì—ì„œ ì‚¬ìš©í•˜ëŠ” ì»¬ë ‰ì…˜ë“¤ë§Œ ëª…ì‹œì ìœ¼ë¡œ í—ˆìš©

// ğŸ” ìš´ì˜ í™˜ê²½ì—ì„œëŠ” ë‹¤ìŒê³¼ ê°™ì´ ìˆ˜ì • ê¶Œì¥:
// allow read, write: if request.auth != null;  // ì¸ì¦ëœ ì‚¬ìš©ìë§Œ ì ‘ê·¼ 